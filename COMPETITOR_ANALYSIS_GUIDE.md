# Threadsç«¶åˆåˆ†æãƒ»æŠ•ç¨¿æˆ¦ç•¥ã‚¬ã‚¤ãƒ‰

## ğŸ“‹ ç›®æ¬¡

1. [äº‹å‰æº–å‚™](#äº‹å‰æº–å‚™)
2. [åŸºæœ¬çš„ãªä½¿ã„æ–¹](#åŸºæœ¬çš„ãªä½¿ã„æ–¹)
3. [åˆ†æã®æµã‚Œ](#åˆ†æã®æµã‚Œ)
4. [æŠ•ç¨¿æˆ¦ç•¥ã®ç«‹ã¦æ–¹](#æŠ•ç¨¿æˆ¦ç•¥ã®ç«‹ã¦æ–¹)
5. [APIåˆ¶é™ã¨æ³¨æ„äº‹é …](#apiåˆ¶é™ã¨æ³¨æ„äº‹é …)

---

## äº‹å‰æº–å‚™

### å¿…è¦ãªç’°å¢ƒ
```bash
pip install requests pandas python-dotenv
```

### `.env`ãƒ•ã‚¡ã‚¤ãƒ«ã«è¿½åŠ 
```env
THREADS_ACCESS_TOKEN=your_long_lived_access_token
THREADS_USER_ID=your_user_id
```

---

## åŸºæœ¬çš„ãªä½¿ã„æ–¹

### 1. ã‚·ãƒ³ãƒ—ãƒ«ãªã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰æ¤œç´¢

```python
from threads_competitor_analyzer import ThreadsCompetitorAnalyzer

analyzer = ThreadsCompetitorAnalyzer()

# ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã§æŠ•ç¨¿ã‚’æ¤œç´¢
threads = analyzer.keyword_search('å‰¯æ¥­', limit=50)

for thread in threads:
    print(f"@{thread['username']}: {thread['text'][:50]}...")
```

### 2. ãƒˆãƒ¬ãƒ³ãƒ‰åˆ†æ

```python
# è¤‡æ•°ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã®ãƒˆãƒ¬ãƒ³ãƒ‰ã‚’7æ—¥é–“åˆ†æ
keywords = ['å‰¯æ¥­', 'æœæ´»', 'æ™‚é–“ç®¡ç†']
trend_df = analyzer.analyze_keyword_trends(keywords, days=7)

# CSVã«ä¿å­˜
trend_df.to_csv('trend_analysis.csv', index=False, encoding='utf-8-sig')
```

### 3. ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãƒ‘ã‚¿ãƒ¼ãƒ³åˆ†æ

```python
# ç‰¹å®šã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã®æŠ•ç¨¿ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’åˆ†æ
patterns = analyzer.content_pattern_analysis('å‰¯æ¥­', days=30)

# çµæœ:
# - ç–‘å•å½¢ã®å‰²åˆ
# - çµµæ–‡å­—ã®ä½¿ç”¨ç‡
# - ãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°ã®æœ‰ç„¡
# - æ–‡å­—æ•°åˆ†å¸ƒ
```

### 4. æŠ•ç¨¿æˆ¦ç•¥ã®è‡ªå‹•ç”Ÿæˆ

```python
# ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã‹ã‚‰æœ€é©ãªæŠ•ç¨¿æˆ¦ç•¥ã‚’ç”Ÿæˆ
keywords = ['å‰¯æ¥­', 'ä»•äº‹è¡“', 'ãƒ¯ãƒ¼ã‚¯ãƒ©ã‚¤ãƒ•ãƒãƒ©ãƒ³ã‚¹']
strategies = analyzer.generate_posting_strategy(keywords, days=14)

# çµæœ:
# - æ¨å¥¨æŠ•ç¨¿é »åº¦
# - æœ€é©æ–‡å­—æ•°
# - ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆæ¨å¥¨
```

---

## åˆ†æã®æµã‚Œ

### STEP 1: ãƒ‹ãƒƒãƒã®ç‰¹å®š

ã¾ãšã€ã‚ãªãŸã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆãŒç‹™ã†ã¹ããƒ‹ãƒƒãƒã‚’æ˜ç¢ºã«ã—ã¾ã™ã€‚

**ç¾åœ¨ã®æŠ•ç¨¿ãƒˆãƒ”ãƒƒã‚¯ï¼ˆPOSTING_GUIDELINES.mdã‚ˆã‚Šï¼‰:**
- çœ ã„ã€ç–²ã‚ŒãŸã€æ®‹æ¥­ã€å¿™ã—ã„ï¼ˆä»•äº‹ç³»ï¼‰
- å¯ã‚Œãªã„ã€é›†ä¸­ã§ããªã„ï¼ˆæ‚©ã¿ç³»ï¼‰
- å‰¯æ¥­ã€æ—©èµ·ãã€ç¶šã‹ãªã„ï¼ˆè‡ªå·±å•“ç™ºç³»ï¼‰
- ã‚„ã‚‹æ°—ã€ã‚¹ãƒˆãƒ¬ã‚¹ã€è‡ªåˆ†æ™‚é–“ï¼ˆãƒ¡ãƒ³ã‚¿ãƒ«ç³»ï¼‰

**ç«¶åˆåˆ†æç”¨ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰:**
```python
primary_keywords = ['å‰¯æ¥­', 'ä»•äº‹è¡“', 'ãƒ¯ãƒ¼ã‚¯ãƒ©ã‚¤ãƒ•ãƒãƒ©ãƒ³ã‚¹']
secondary_keywords = ['æœæ´»', 'æ™‚é–“ç®¡ç†', 'è‡ªå·±æŠ•è³‡', 'ã‚¹ãƒˆãƒ¬ã‚¹è§£æ¶ˆ']
trending_keywords = ['ãƒãƒ­ã‚¦ã‚£ãƒ³', 'ã‚¤ãƒ³ã‚µã‚¤ãƒˆç¥­ã‚Š']  # æ™‚äº‹ãƒã‚¿
```

### STEP 2: ç«¶åˆã®æŠ•ç¨¿ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’åˆ†æ

```python
analyzer = ThreadsCompetitorAnalyzer()

# å„ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã®æŠ•ç¨¿é »åº¦ã‚’ç¢ºèª
for keyword in primary_keywords:
    trend_df = analyzer.analyze_keyword_trends([keyword], days=14)
    print(f"{keyword}: {trend_df['posts_per_day'].values[0]:.1f} posts/day")
```

### STEP 3: æˆåŠŸãƒ‘ã‚¿ãƒ¼ãƒ³ã®æŠ½å‡º

```python
# äººæ°—æŠ•ç¨¿ã‚’åˆ†æï¼ˆè‡ªåˆ†ã®æŠ•ç¨¿ã®ã¿ã‚¤ãƒ³ã‚µã‚¤ãƒˆå–å¾—å¯èƒ½ï¼‰
popular_df = analyzer.discover_popular_posts('å‰¯æ¥­')

# ãƒˆãƒƒãƒ—10ã®æŠ•ç¨¿ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ç¢ºèª
top_10 = popular_df.head(10)
print(top_10[['username', 'text_length', 'has_media', 'text']])
```

### STEP 4: ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãƒ‘ã‚¿ãƒ¼ãƒ³ã®æŠŠæ¡

```python
# å„ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãƒ‘ã‚¿ãƒ¼ãƒ³
for keyword in primary_keywords:
    patterns = analyzer.content_pattern_analysis(keyword, days=30)

    print(f"\n{keyword}:")
    print(f"  ç–‘å•å½¢: {patterns['has_question']:.0f}%")
    print(f"  çµµæ–‡å­—: {patterns['has_emoji']:.0f}%")
    print(f"  çŸ­æ–‡(<100å­—): {patterns['short_form']:.0f}%")
```

---

## æŠ•ç¨¿æˆ¦ç•¥ã®ç«‹ã¦æ–¹

### ç¾åœ¨ã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆè¨­å®š

**æŠ•ç¨¿ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«:**
- 11æ /æ—¥ï¼ˆ8, 10, 12, 15, 17, 19, 20, 21, 22, 23, 24æ™‚ï¼‰
- å„æ 5æŠ•ç¨¿ã€6åˆ†é–“éš”
- **åˆè¨ˆ55æŠ•ç¨¿/æ—¥**

**ç¾åœ¨ã®æŠ•ç¨¿ãƒãƒ©ãƒ³ã‚¹ï¼ˆPOSTING_GUIDELINES.mdã‚ˆã‚Šï¼‰:**
- çŸ­æ–‡ãƒ»å…±æ„Ÿç³»: 60-90æ–‡å­—
- Tipsãƒ»ä¾¡å€¤æä¾›ç³»: 120-180æ–‡å­—
- æ¨©å¨æ€§ãƒ»å®Ÿç¸¾ç³»: 100-150æ–‡å­—

### åˆ†æçµæœã‚’åæ˜ ã—ãŸæ”¹å–„ç­–

#### 1. ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰æˆ¦ç•¥

```python
# åˆ†æçµæœã‹ã‚‰å„ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã®æŠ•ç¨¿é »åº¦ã‚’æ±ºå®š
keyword_strategy = {
    'å‰¯æ¥­': 10,  # 10æŠ•ç¨¿/æ—¥ï¼ˆäººæ°—ãŒé«˜ã„ï¼‰
    'ä»•äº‹è¡“': 8,
    'ãƒ¯ãƒ¼ã‚¯ãƒ©ã‚¤ãƒ•ãƒãƒ©ãƒ³ã‚¹': 6,
    'æœæ´»': 5,
    'æ™‚é–“ç®¡ç†': 5,
    'ã‚¹ãƒˆãƒ¬ã‚¹è§£æ¶ˆ': 5,
    'è‡ªå·±æŠ•è³‡': 4,
    'ãã®ä»–': 12  # ãƒˆãƒ¬ãƒ³ãƒ‰ãƒ»æ™‚äº‹ãƒã‚¿
}
```

#### 2. ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆæˆ¦ç•¥

åˆ†æçµæœã‚’åŸºã«ã€å„ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã«æœ€é©ãªãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã‚’é©ç”¨:

```python
# ä¾‹: 'å‰¯æ¥­' ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã®åˆ†æçµæœ
# - ç–‘å•å½¢: 35% â†’ ç–‘å•å½¢ã‚’ä½¿ã†
# - çµµæ–‡å­—: 60% â†’ çµµæ–‡å­—ã‚’å¿…ãšå…¥ã‚Œã‚‹
# - çŸ­æ–‡: 45%, ä¸­æ–‡: 40% â†’ çŸ­æ–‡ãƒ»ä¸­æ–‡ã‚’æ··åœ¨

å‰¯æ¥­_æŠ•ç¨¿ä¾‹ = [
    {
        "text": "å‰¯æ¥­ã€åœŸæ—¥ã ã‘ã§3ãƒ¶æœˆç¶šã‘ãŸçµæœğŸ‘€",  # çŸ­æ–‡ãƒ»ç–‘å•å½¢é¢¨
        "thread_text": "å¹³æ—¥ã¯ä½•ã‚‚ã—ãªã„ã€‚\nåœŸæ—¥2æ™‚é–“ã ã‘ã€‚\n\nç„¦ã‚‰ãšç¶šã‘ã‚‹ã®ãŒå¤§äº‹ã€‚\nå°‘ã—ãšã¤å½¢ã«ãªã£ã¦ããŸã€‚",
        "category": "å‰¯æ¥­"
    },
    {
        "text": "å‰¯æ¥­ã‚’ç¶šã‘ã‚‹ã‚³ãƒ„ã£ã¦ä½•ã ã¨æ€ã†ï¼ŸğŸ’­\n\nåƒ•ã¯ã€Œæˆæœã‚’æ±‚ã‚ãªã„ã€ã“ã¨ã ã¨æ€ã£ã¦ã‚‹ã€‚",  # ç–‘å•å½¢
        "thread_text": "æœ€åˆã¯çµæœãŒå‡ºãªãã¦å½“ç„¶ã€‚\nç¶šã‘ã‚‹ã“ã¨ã ã‘ã«é›†ä¸­ã™ã‚‹ã€‚\n\n3ãƒ¶æœˆç›®ã§å°‘ã—ãšã¤è¦‹ãˆã¦ããŸã€‚",
        "category": "å‰¯æ¥­"
    }
]
```

#### 3. æŠ•ç¨¿ã‚¿ã‚¤ãƒŸãƒ³ã‚°æˆ¦ç•¥

```python
# åˆ†æçµæœ: 'å‰¯æ¥­' ã¯å¤œã®æ™‚é–“å¸¯ã«æŠ•ç¨¿ãŒå¤šã„
# â†’ 19æ™‚, 20æ™‚, 21æ™‚, 22æ™‚ã«é›†ä¸­é…ç½®

æŠ•ç¨¿ã‚¿ã‚¤ãƒŸãƒ³ã‚° = {
    '8æ™‚': ['æœæ´»', 'æ—©èµ·ã', 'ä»•äº‹è¡“'],
    '12æ™‚': ['ä»•äº‹è¡“', 'æ™‚é–“ç®¡ç†', 'ã‚¹ãƒˆãƒ¬ã‚¹'],
    '15æ™‚': ['ç–²ã‚ŒãŸ', 'çœ ã„', 'é›†ä¸­ã§ããªã„'],
    '19æ™‚': ['å‰¯æ¥­', 'ä»•äº‹çµ‚ã‚ã‚Š', 'ãƒ¯ãƒ¼ã‚¯ãƒ©ã‚¤ãƒ•ãƒãƒ©ãƒ³ã‚¹'],
    '20æ™‚': ['å‰¯æ¥­', 'ã‚¹ãƒˆãƒ¬ã‚¹è§£æ¶ˆ', 'è‡ªå·±æŠ•è³‡'],
    '21æ™‚': ['å‰¯æ¥­', 'å¤œã®ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³', 'å¯ã‚Œãªã„'],
    '23æ™‚': ['ç¡çœ ', 'ã‚¹ãƒˆãƒ¬ã‚¹', 'æŒ¯ã‚Šè¿”ã‚Š']
}
```

### å®Ÿè·µ: æ–°ã—ã„æŠ•ç¨¿ã‚’ç”Ÿæˆ

```python
# threads_competitor_analyzer.py ã®åˆ†æçµæœã‚’åŸºã«
# posts_schedule.csv ã‚’æ›´æ–°

# 1. åˆ†æå®Ÿè¡Œ
analyzer = ThreadsCompetitorAnalyzer()
strategies = analyzer.generate_posting_strategy(['å‰¯æ¥­', 'ä»•äº‹è¡“', 'æœæ´»'], days=14)

# 2. æˆ¦ç•¥ã‚’åæ˜ ã—ãŸæŠ•ç¨¿ã‚’ç”Ÿæˆ
# ï¼ˆæ‰‹å‹•ã§ posts_schedule.csv ã«è¿½åŠ ã€ã¾ãŸã¯è‡ªå‹•ç”Ÿæˆã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ä½œæˆï¼‰

# 3. POSTING_GUIDELINES.md ã«å¾“ã„ã¤ã¤ã€
#    åˆ†æçµæœã®ã€Œç–‘å•å½¢ã®å‰²åˆã€ã€Œçµµæ–‡å­—ä½¿ç”¨ç‡ã€ãªã©ã‚’åæ˜ 
```

---

## APIåˆ¶é™ã¨æ³¨æ„äº‹é …

### ãƒ¬ãƒ¼ãƒˆåˆ¶é™

- **ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰æ¤œç´¢**: 7æ—¥é–“ã§500ã‚¯ã‚¨ãƒª
- **æ¨å¥¨**: 1æ—¥ã‚ãŸã‚Š70ã‚¯ã‚¨ãƒªã¾ã§

### ãƒ‡ãƒ¼ã‚¿å–å¾—åˆ¶é™

- **æœŸé–“**: 2024å¹´4æœˆ13æ—¥ä»¥é™ã®ãƒ‡ãƒ¼ã‚¿ã®ã¿
- **ã‚¤ãƒ³ã‚µã‚¤ãƒˆ**: è‡ªåˆ†ã®æŠ•ç¨¿ã®ã¿è©³ç´°ãƒ‡ãƒ¼ã‚¿å–å¾—å¯èƒ½
- **å…¬é–‹æŠ•ç¨¿**: ãƒ†ã‚­ã‚¹ãƒˆã€ãƒ¦ãƒ¼ã‚¶ãƒ¼åã€ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—ã¯å–å¾—å¯èƒ½

### ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹

```python
# 1. ãƒ¬ãƒ¼ãƒˆåˆ¶é™ã‚’è€ƒæ…®ã—ãŸå®Ÿè¡Œé–“éš”
import time

for keyword in keywords:
    analyzer.keyword_search(keyword)
    time.sleep(2)  # 2ç§’å¾…æ©Ÿ

# 2. ã‚¯ã‚¨ãƒªæ•°ã®ç®¡ç†
print(f"Remaining queries: {analyzer.rate_limit_remaining}/500")

# 3. å®šæœŸå®Ÿè¡Œï¼ˆ1æ—¥1å›ãŒãŠã™ã™ã‚ï¼‰
# cron or GitHub Actions ã§è‡ªå‹•åŒ–
```

---

## å®Ÿè·µä¾‹: 1é€±é–“ã®åˆ†æã‚µã‚¤ã‚¯ãƒ«

### æœˆæ›œæ—¥: ãƒˆãƒ¬ãƒ³ãƒ‰åˆ†æ

```python
# é€±æœ«ã®æŠ•ç¨¿ãƒˆãƒ¬ãƒ³ãƒ‰ã‚’ç¢ºèª
keywords = ['å‰¯æ¥­', 'ä»•äº‹è¡“', 'ãƒ¯ãƒ¼ã‚¯ãƒ©ã‚¤ãƒ•ãƒãƒ©ãƒ³ã‚¹']
trend_df = analyzer.analyze_keyword_trends(keywords, days=3)
```

### æ°´æ›œæ—¥: ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãƒ‘ã‚¿ãƒ¼ãƒ³æ›´æ–°

```python
# äººæ°—æŠ•ç¨¿ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ç¢ºèª
for keyword in keywords[:2]:
    patterns = analyzer.content_pattern_analysis(keyword, days=7)
    # ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’æŠ•ç¨¿ã«åæ˜ 
```

### é‡‘æ›œæ—¥: é€±æœ«æŠ•ç¨¿ã®æº–å‚™

```python
# æ¬¡é€±ã®æŠ•ç¨¿æˆ¦ç•¥ã‚’ç”Ÿæˆ
strategies = analyzer.generate_posting_strategy(keywords, days=7)
# åœŸæ—¥ã®æŠ•ç¨¿ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’æ›´æ–°
```

---

## ã¾ã¨ã‚

ã“ã®ãƒ„ãƒ¼ãƒ«ã‚’ä½¿ã£ã¦ï¼š

1. **ç«¶åˆã®æŠ•ç¨¿ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ç†è§£** â†’ äººæ°—ãƒˆãƒ”ãƒƒã‚¯ãƒ»ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã‚’æŠŠæ¡
2. **ãƒ‡ãƒ¼ã‚¿ã«åŸºã¥ã„ãŸæŠ•ç¨¿æˆ¦ç•¥** â†’ æ„Ÿè¦šã§ã¯ãªãæ•°å­—ã§åˆ¤æ–­
3. **ç¶™ç¶šçš„ãªæ”¹å–„** â†’ æ¯é€±åˆ†æã—ã¦æˆ¦ç•¥ã‚’æ›´æ–°

**æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—:**
1. `threads_competitor_analyzer.py` ã‚’å®Ÿè¡Œ
2. ç”Ÿæˆã•ã‚ŒãŸCSVãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç¢ºèª
3. `posts_schedule.csv` ã«åæ˜ 
4. POSTING_GUIDELINES.md ã‚’æ›´æ–°
